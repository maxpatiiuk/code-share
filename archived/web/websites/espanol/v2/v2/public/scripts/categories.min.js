var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");var use_datalists=!1;
window.onload=function(){var a=0;use_datalists=category_field.is("input");class_field.change(function(){current_class=class_field.val();if("undefined"===typeof sorting_data[current_class])class_updated(current_class,!1);else if(0!==a&&1>Date.now()-a)var c=setInterval(function(){1<Date.now()-a&&(clearInterval(c),class_updated(current_class,!1))},250);else a=Date.now(),class_updated(current_class,!0)});category_field.change(function(){var a=category_field.val();if(use_datalists){var b=$("#"+theme_field.attr("list"));
$.each(sorting_data[current_class],function(b,c){if(c.name===a)return a=b,!1});b.find("option:not(:first-child)").remove();$.each(sorting_data[current_class][a],function(a,c){"name"!==a&&b.append("<option>"+c+"</option>")})}else theme_field.find('option:not([value="-1"])').remove(),$.each(sorting_data[current_class][a],function(a,b){"name"!==a&&theme_field.append('<option value="'+a+'">'+b+"</option>")})})};
function class_updated(a,c){current_class=a;if(c)category_change();else{if(!navigator.onLine)return alert(text.no_internet),!1;$.ajax({method:"POST",url:site_url+"post/get/categories/"+a}).done(function(b){b=JSON.parse(b);0!==b.error&&"0"!==b.error?(alert(text.error_while_getting_data),mail_error("Unable to get categories. Ajax failed",[b,a,sorting_data])):(delete b.error,sorting_data[a]=b,category_change())})}}
function category_change(){if(use_datalists){var a=$("#"+category_field.attr("list"));a.find("option:not(:first-child)").remove();$("#"+theme_field.attr("list")+" option:not(:first-child)").remove();$.each(sorting_data[current_class],function(c,b){a.append("<option>"+b.name+"</option>")})}else category_field.find('option:not([value="-1"])').remove(),theme_field.find('option:not([value="-1"])').remove(),$.each(sorting_data[current_class],function(a,b){category_field.append('<option value="'+a+'">'+
b.name+"</option>")})};
